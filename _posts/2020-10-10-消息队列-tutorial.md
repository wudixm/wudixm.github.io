[原文](https://github.com/doocs/advanced-java)

# 为什么要用消息队列

## 优缺点

### 优点
解耦、异步、削峰

解耦：BCD系统都要从A系统里拿东西，把A 系统解耦出去
异步：一个请求后面有3 个系统调用，则异步起来，总时长不是3个调用加起来，而是3 个里最长耗时的那个请求，异步
削峰：为了缓解数据库压力

### 缺点


系统可用性降低: 万一 MQ 挂了咋整？MQ 一挂，整套系统崩溃，你不就完了
系统复杂度提高: 你怎么保证消息没有重复消费？怎么处理消息丢失的情况？怎么保证消息传递的顺序性？
一致性问题: 部分系统同步状态不正确，B、D 系统消费成功（写库成功），C 系统消费失败（写库失败）
